<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" href="css/style.css">
  <svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-browse" viewBox="0 0 32 32">
        <title>browse</title>
        <path d="M26 30l6-16h-26l-6 16zM4 12l-4 18v-26h9l4 4h13v4z"></path>
      </symbol>
      <symbol id="icon-info" viewBox="0 0 32 32">
        <title>info</title>
        <path d="M14 9.5c0-0.825 0.675-1.5 1.5-1.5h1c0.825 0 1.5 0.675 1.5 1.5v1c0 0.825-0.675 1.5-1.5 1.5h-1c-0.825 0-1.5-0.675-1.5-1.5v-1z"></path>
        <path d="M20 24h-8v-2h2v-6h-2v-2h6v8h2z"></path>
        <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"></path>
      </symbol>
      <symbol id="icon-file" viewBox="0 0 32 32">
        <title>file</title>
        <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
        <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
        <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
        <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
      </symbol>

    </defs>
  </svg>

</head>

<body>
  <main>
    <nav class="breadcrumbs">
      Progress:
      <ol>
        <li class="active">
          Upload files
        </li>
        <li>
          Map columns
        </li>
        <li>
          Supplementary data
        </li>
        <li>
          Configure settings
        </li>
        <li>
          Finalise &amp; save
        </li>
      </ol>
    </nav>

    <div class="wizardStep">
      <h2 class="sectionHeader">Upload your files</h2>
      <div class="uploadAndGuidance">
        <div class="upload subStep">
          <svg class="icon icon-file"><use xlink:href="#icon-file"></use></svg>
          <div class="uploadOptions">
            <div>Drag a file here</div>
            <div class="or">OR</div>
            <input type="file" id="fileUpload" />
            <button id="fakeFileUpload">
              <svg class="icon icon-browse"><use xlink:href="#icon-browse"></use></svg>
              Browse for a file or folder
            </button>
            <div id="fileName"></div>
            <div class="or">OR</div>
            <label class="pasteUrl">
                <span>Paste a URL (e.g. to a large Google Drive file):</span>
                <input type="text"></input>
            </label>
          </div>
        </div>
        <div class="guidance subStep">
          <p>
            <svg class="icon icon-info"><use xlink:href="#icon-info"></use></svg>
            Files we can accept include:
          </p>
          <ul>
            <li>gff</li>
            <li>fasta</li>
            <li>.tsv</li>
            <li>.csv</li>
            <li>.etc</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="wizardStep">
      <div class="subStep organism">
        <h4 class="subHeader">What organism is this file for? </h4>
        <div class="infoBox subStepContent">
          <ul>
            <span class="title">Organism:</span>
            <input type="text" id="organismSelector" placeholder="Type an organism name or taxon ID...">
          </ul>
        </div>
      </div>
    </div>
    <div class="wizardStep nextActions">
      <a href="3-upload-complete-fasta.html" id="nextLink" class="cta">Save and Continue &gt;&gt;</a>
    </div>
  </main>

<script>
//browse dialogues are unstyleable so we have to hide it and create our own.

var fakeFile = document.getElementById('fakeFileUpload');
var realFile = document.getElementById("fileUpload");

fakeFile.addEventListener("click", function() {
  realFile.click();
});

realFile.addEventListener("change",function(file){
  var fileName = this.files[0].name;
  document.getElementById("fileName").innerHTML = this.files[0].name;
});

// this is a hack to allow us to visit a different page the second time we
// "upload" a file. 

document.addEventListener("DOMContentLoaded", function(){
  var lastPage = document.referrer.split("/");
  lastPage = lastPage[lastPage.length -1];
  console.log(lastPage);
  if (lastPage && (lastPage.indexOf("3-upload-complete-fasta") > -1)) {
    document.getElementById("nextLink").setAttribute("href","3-upload-complete-gff")
  }
});



</script>

</body>

</html>
